"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = __importDefault(require("express"));
const multer_1 = __importDefault(require("multer"));
const CreateUserController_1 = __importDefault(require("../controllers/userController/CreateUserController"));
const UpdateUserController_1 = __importDefault(require("../controllers/userController/UpdateUserController"));
const DeleteUserController_1 = __importDefault(require("../controllers/userController/DeleteUserController"));
const ReturnUserController_1 = __importDefault(require("../controllers/userController/ReturnUserController"));
const UserAutenticationController_1 = __importDefault(require("../controllers/AtenticationController/UserAutenticationController"));
const ensureAuthenticated_1 = require("../middlewares/ensureAuthenticated");
const RefreshTokenUserController_1 = require("../controllers/RefreshTokenUserController/RefreshTokenUserController");
const CreateSupllierController_1 = __importDefault(require("../controllers/suplierController/CreateSupllierController"));
const ReturnSupllierController_1 = __importDefault(require("../controllers/suplierController/ReturnSupllierController"));
const UpdateSupllierController_1 = __importDefault(require("../controllers/suplierController/UpdateSupllierController"));
const CartController_1 = __importDefault(require("../controllers/CartController/CartController"));
const uploadToFirebaseStorage_1 = require("../middlewares/uploadToFirebaseStorage");
const CreateProductController_1 = __importDefault(require("../controllers/productController/CreateProductController"));
const ReturnProductController_1 = __importDefault(require("../controllers/productController/ReturnProductController"));
const DeleteProductController_1 = __importDefault(require("../controllers/productController/DeleteProductController"));
const CreateOrdenController_1 = __importDefault(require("../controllers/ordenController/CreateOrdenController"));
const DeleteOrderController_1 = __importDefault(require("../controllers/ordenController/DeleteOrderController"));
const refreshTokenUserController = new RefreshTokenUserController_1.RefreshTokenUserController();
const multer = (0, multer_1.default)({
    storage: multer_1.default.memoryStorage(),
});
const router = express_1.default.Router();
router.post('/user', CreateUserController_1.default.create);
router.delete('/user/:userId', ensureAuthenticated_1.ensureAuthenticated, DeleteUserController_1.default.delete);
router.get('/user/:userId', ensureAuthenticated_1.ensureAuthenticated, ReturnUserController_1.default.return);
router.put('/user-update/:userId', ensureAuthenticated_1.ensureAuthenticated, UpdateUserController_1.default.handle);
router.post('/login', UserAutenticationController_1.default.userAtentication);
router.post('/refresh-token', refreshTokenUserController.handle);
router.post('/supplier', CreateSupllierController_1.default.createSupplier);
router.get('/supplier/:supllierId', ReturnSupllierController_1.default.getSupllier);
router.put('/supplier', UpdateSupllierController_1.default.createSupplier);
// router.post('/supllier/login',SupllierAutenticationController.supllierAtentication);
// router.post('/refresh-token', refreshTokenUserController.handle);
router.post('/product', multer.single("file"), uploadToFirebaseStorage_1.uploadImage, CreateProductController_1.default.createProduct);
router.get('/', ReturnProductController_1.default.findMany);
router.get('/product/:productId', ReturnProductController_1.default.findUnique);
router.delete('/product/:productId', DeleteProductController_1.default.deleteUnique);
router.post('/pedido', ensureAuthenticated_1.ensureAuthenticated, CreateOrdenController_1.default.createOrder);
router.delete('/pedido/:id', ensureAuthenticated_1.ensureAuthenticated, DeleteOrderController_1.default.deleteOrder);
router.post('/cart', CartController_1.default.createCart);
router.get('/cart', CartController_1.default.listCart);
exports.default = router;
